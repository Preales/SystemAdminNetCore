Ù
EE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Base\BaseConfig.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 
Base 
{ 
public 

class 

BaseConfig 
< 
T 
> 
:  $
IEntityTypeConfiguration! 9
<9 :
T: ;
>; <
where= B
TC D
:E F
	ModelBaseG P
{ 
public		 
virtual		 
void		 
	Configure		 %
(		% &
EntityTypeBuilder		& 7
<		7 8
T		8 9
>		9 :
builder		; B
)		B C
{

 	
} 	
} 
} Ô
SE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Configurations\EmployeeConfig.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 
Configurations )
{ 
public 

class 
EmployeeConfig 
:  !$
IEntityTypeConfiguration" :
<: ;
Employee; C
>C D
{		 
public

 
void

 
	Configure

 
(

 
EntityTypeBuilder

 /
<

/ 0
Employee

0 8
>

8 9
builder

: A
)

A B
{ 	
builder 
. 
HasKey 
( 
pk 
=>  
pk! #
.# $
Id$ &
)& '
;' (
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Id$ &
)& '
.' (

IsRequired( 2
(2 3
)3 4
.4 5
ValueGeneratedOnAdd5 H
(H I
)I J
;J K
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Name$ (
)( )
.) *
HasMaxLength* 6
(6 7
$num7 9
)9 :
.: ;

IsRequired; E
(E F
)F G
;G H
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
LastName$ ,
), -
.- .
HasMaxLength. :
(: ;
$num; =
)= >
.> ?

IsRequired? I
(I J
)J K
;K L
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Identification$ 2
)2 3
.3 4
HasMaxLength4 @
(@ A
$numA C
)C D
.D E

IsRequiredE O
(O P
)P Q
;Q R
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Charge$ *
)* +
.+ ,
HasMaxLength, 8
(8 9
$num9 ;
); <
.< =

IsRequired= G
(G H
)H I
;I J
} 	
} 
} ‹
OE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Configurations\UserConfig.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 
Configurations )
{ 
public 

class 

UserConfig 
: $
IEntityTypeConfiguration 6
<6 7
User7 ;
>; <
{ 
public		 
void		 
	Configure		 
(		 
EntityTypeBuilder		 /
<		/ 0
User		0 4
>		4 5
builder		6 =
)		= >
{

 	
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
FullName$ ,
), -
.- .
HasMaxLength. :
(: ;
$num; >
)> ?
.? @

IsRequired@ J
(J K
)K L
;L M
} 	
} 
} ÿ

=E:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Context.cs
	namespace 	
SystemAdmin
 
. 
Repo 
{ 
[		 #
ExcludeFromCodeCoverage		 
]		 
public

 

class

 
Context

 
:

 
IdentityDbContext

 ,
{ 
public 
Context 
( 
DbContextOptions '
options( /
)/ 0
:1 2
base3 7
(7 8
options8 ?
)? @
{ 	
} 	
public 
DbSet 
< 
Employee 
> 
Employee '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
builder= D
)D E
{ 	
builder 
. +
ApplyConfigurationsFromAssembly 3
(3 4
Assembly4 <
.< = 
GetExecutingAssembly= Q
(Q R
)R S
)S T
;T U
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
} 	
} 
} È
AE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Data\SeedDb.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 
Data 
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
SeedDb 
{ 
private 
readonly 
Context  
_context! )
;) *
private 
readonly 
UserManager $
<$ %
User% )
>) *
_userManager+ 7
;7 8
public 
SeedDb 
( 
Context 
context 
, 
UserManager 
< 
User 
> 
userManager )
)) *
{ 	
_context 
= 
context 
; 
_userManager 
= 
userManager &
;& '
} 	
public 
async 
Task 
SeedDbAsync %
(% &
)& '
{ 	
await 
CheckUserAsync  
(  !
)! "
;" #
} 	
private 
async 
Task 
CheckUserAsync )
() *
)* +
{   	
if!! 
(!! 
!!! 
_context!! 
.!! 
Users!! 
.!!  
Any!!  #
(!!# $
)!!$ %
)!!% &
{"" 
var## 
user## 
=## 
new## 
User## #
(### $
)##$ %
{$$ 
UserName%% 
=%% 
$str%% &
,%%& '
Email&& 
=&& 
$str&& /
,&&/ 0
FullName'' 
='' 
$str'' )
}(( 
;(( 
await** 
_userManager** "
.**" #
CreateAsync**# .
(**. /
user**/ 3
,**3 4
$str**5 <
)**< =
;**= >
await++ 
_context++ 
.++ 
SaveChangesAsync++ /
(++/ 0
)++0 1
;++1 2
},, 
}-- 	
}.. 
}// ö‰
`E:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Migrations\20210305114252_InitialMigration.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 

Migrations %
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

partial 
class 
InitialMigration )
:* +
	Migration, 5
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
truea e
)e f
,f g
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB Q
,Q R
nullableS [
:[ \
true] a
)a b
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Discriminator !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
type9 =
:= >
$str? N
,N O
nullableP X
:X Y
falseZ _
)_ `
,` a
FullName   
=   
table   $
.  $ %
Column  % +
<  + ,
string  , 2
>  2 3
(  3 4
type  4 8
:  8 9
$str  : I
,  I J
	maxLength  K T
:  T U
$num  V Y
,  Y Z
nullable  [ c
:  c d
true  e i
)  i j
,  j k
UserName!! 
=!! 
table!! $
.!!$ %
Column!!% +
<!!+ ,
string!!, 2
>!!2 3
(!!3 4
type!!4 8
:!!8 9
$str!!: I
,!!I J
	maxLength!!K T
:!!T U
$num!!V Y
,!!Y Z
nullable!![ c
:!!c d
true!!e i
)!!i j
,!!j k
NormalizedUserName"" &
=""' (
table"") .
."". /
Column""/ 5
<""5 6
string""6 <
>""< =
(""= >
type""> B
:""B C
$str""D S
,""S T
	maxLength""U ^
:""^ _
$num""` c
,""c d
nullable""e m
:""m n
true""o s
)""s t
,""t u
Email## 
=## 
table## !
.##! "
Column##" (
<##( )
string##) /
>##/ 0
(##0 1
type##1 5
:##5 6
$str##7 F
,##F G
	maxLength##H Q
:##Q R
$num##S V
,##V W
nullable##X `
:##` a
true##b f
)##f g
,##g h
NormalizedEmail$$ #
=$$$ %
table$$& +
.$$+ ,
Column$$, 2
<$$2 3
string$$3 9
>$$9 :
($$: ;
type$$; ?
:$$? @
$str$$A P
,$$P Q
	maxLength$$R [
:$$[ \
$num$$] `
,$$` a
nullable$$b j
:$$j k
true$$l p
)$$p q
,$$q r
EmailConfirmed%% "
=%%# $
table%%% *
.%%* +
Column%%+ 1
<%%1 2
bool%%2 6
>%%6 7
(%%7 8
type%%8 <
:%%< =
$str%%> C
,%%C D
nullable%%E M
:%%M N
false%%O T
)%%T U
,%%U V
PasswordHash&&  
=&&! "
table&&# (
.&&( )
Column&&) /
<&&/ 0
string&&0 6
>&&6 7
(&&7 8
type&&8 <
:&&< =
$str&&> M
,&&M N
nullable&&O W
:&&W X
true&&Y ]
)&&] ^
,&&^ _
SecurityStamp'' !
=''" #
table''$ )
.'') *
Column''* 0
<''0 1
string''1 7
>''7 8
(''8 9
type''9 =
:''= >
$str''? N
,''N O
nullable''P X
:''X Y
true''Z ^
)''^ _
,''_ `
ConcurrencyStamp(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
string((4 :
>((: ;
(((; <
type((< @
:((@ A
$str((B Q
,((Q R
nullable((S [
:(([ \
true((] a
)((a b
,((b c
PhoneNumber)) 
=))  !
table))" '
.))' (
Column))( .
<)). /
string))/ 5
>))5 6
())6 7
type))7 ;
:)); <
$str))= L
,))L M
nullable))N V
:))V W
true))X \
)))\ ]
,))] ^ 
PhoneNumberConfirmed** (
=**) *
table**+ 0
.**0 1
Column**1 7
<**7 8
bool**8 <
>**< =
(**= >
type**> B
:**B C
$str**D I
,**I J
nullable**K S
:**S T
false**U Z
)**Z [
,**[ \
TwoFactorEnabled++ $
=++% &
table++' ,
.++, -
Column++- 3
<++3 4
bool++4 8
>++8 9
(++9 :
type++: >
:++> ?
$str++@ E
,++E F
nullable++G O
:++O P
false++Q V
)++V W
,++W X

LockoutEnd,, 
=,,  
table,,! &
.,,& '
Column,,' -
<,,- .
DateTimeOffset,,. <
>,,< =
(,,= >
type,,> B
:,,B C
$str,,D T
,,,T U
nullable,,V ^
:,,^ _
true,,` d
),,d e
,,,e f
LockoutEnabled-- "
=--# $
table--% *
.--* +
Column--+ 1
<--1 2
bool--2 6
>--6 7
(--7 8
type--8 <
:--< =
$str--> C
,--C D
nullable--E M
:--M N
false--O T
)--T U
,--U V
AccessFailedCount.. %
=..& '
table..( -
...- .
Column... 4
<..4 5
int..5 8
>..8 9
(..9 :
type..: >
:..> ?
$str..@ E
,..E F
nullable..G O
:..O P
false..Q V
)..V W
}// 
,// 
constraints00 
:00 
table00 "
=>00# %
{11 
table22 
.22 

PrimaryKey22 $
(22$ %
$str22% 5
,225 6
x227 8
=>229 ;
x22< =
.22= >
Id22> @
)22@ A
;22A B
}33 
)33 
;33 
migrationBuilder55 
.55 
CreateTable55 (
(55( )
name66 
:66 
$str66  
,66  !
columns77 
:77 
table77 
=>77 !
new77" %
{88 
Id99 
=99 
table99 
.99 
Column99 %
<99% &
Guid99& *
>99* +
(99+ ,
type99, 0
:990 1
$str992 D
,99D E
nullable99F N
:99N O
false99P U
)99U V
,99V W
Name:: 
=:: 
table::  
.::  !
Column::! '
<::' (
string::( .
>::. /
(::/ 0
type::0 4
:::4 5
$str::6 D
,::D E
	maxLength::F O
:::O P
$num::Q S
,::S T
nullable::U ]
:::] ^
false::_ d
)::d e
,::e f
LastName;; 
=;; 
table;; $
.;;$ %
Column;;% +
<;;+ ,
string;;, 2
>;;2 3
(;;3 4
type;;4 8
:;;8 9
$str;;: H
,;;H I
	maxLength;;J S
:;;S T
$num;;U W
,;;W X
nullable;;Y a
:;;a b
false;;c h
);;h i
,;;i j
Identification<< "
=<<# $
table<<% *
.<<* +
Column<<+ 1
<<<1 2
string<<2 8
><<8 9
(<<9 :
type<<: >
:<<> ?
$str<<@ N
,<<N O
	maxLength<<P Y
:<<Y Z
$num<<[ ]
,<<] ^
nullable<<_ g
:<<g h
false<<i n
)<<n o
,<<o p
Charge== 
=== 
table== "
.==" #
Column==# )
<==) *
string==* 0
>==0 1
(==1 2
type==2 6
:==6 7
$str==8 F
,==F G
	maxLength==H Q
:==Q R
$num==S U
,==U V
nullable==W _
:==_ `
false==a f
)==f g
}>> 
,>> 
constraints?? 
:?? 
table?? "
=>??# %
{@@ 
tableAA 
.AA 

PrimaryKeyAA $
(AA$ %
$strAA% 2
,AA2 3
xAA4 5
=>AA6 8
xAA9 :
.AA: ;
IdAA; =
)AA= >
;AA> ?
}BB 
)BB 
;BB 
migrationBuilderDD 
.DD 
CreateTableDD (
(DD( )
nameEE 
:EE 
$strEE (
,EE( )
columnsFF 
:FF 
tableFF 
=>FF !
newFF" %
{GG 
IdHH 
=HH 
tableHH 
.HH 
ColumnHH %
<HH% &
intHH& )
>HH) *
(HH* +
typeHH+ /
:HH/ 0
$strHH1 6
,HH6 7
nullableHH8 @
:HH@ A
falseHHB G
)HHG H
.II 

AnnotationII #
(II# $
$strII$ 8
,II8 9
$strII: @
)II@ A
,IIA B
RoleIdJJ 
=JJ 
tableJJ "
.JJ" #
ColumnJJ# )
<JJ) *
stringJJ* 0
>JJ0 1
(JJ1 2
typeJJ2 6
:JJ6 7
$strJJ8 G
,JJG H
nullableJJI Q
:JJQ R
falseJJS X
)JJX Y
,JJY Z
	ClaimTypeKK 
=KK 
tableKK  %
.KK% &
ColumnKK& ,
<KK, -
stringKK- 3
>KK3 4
(KK4 5
typeKK5 9
:KK9 :
$strKK; J
,KKJ K
nullableKKL T
:KKT U
trueKKV Z
)KKZ [
,KK[ \

ClaimValueLL 
=LL  
tableLL! &
.LL& '
ColumnLL' -
<LL- .
stringLL. 4
>LL4 5
(LL5 6
typeLL6 :
:LL: ;
$strLL< K
,LLK L
nullableLLM U
:LLU V
trueLLW [
)LL[ \
}MM 
,MM 
constraintsNN 
:NN 
tableNN "
=>NN# %
{OO 
tablePP 
.PP 

PrimaryKeyPP $
(PP$ %
$strPP% :
,PP: ;
xPP< =
=>PP> @
xPPA B
.PPB C
IdPPC E
)PPE F
;PPF G
tableQQ 
.QQ 

ForeignKeyQQ $
(QQ$ %
nameRR 
:RR 
$strRR F
,RRF G
columnSS 
:SS 
xSS  !
=>SS" $
xSS% &
.SS& '
RoleIdSS' -
,SS- .
principalTableTT &
:TT& '
$strTT( 5
,TT5 6
principalColumnUU '
:UU' (
$strUU) -
,UU- .
onDeleteVV  
:VV  !
ReferentialActionVV" 3
.VV3 4
CascadeVV4 ;
)VV; <
;VV< =
}WW 
)WW 
;WW 
migrationBuilderYY 
.YY 
CreateTableYY (
(YY( )
nameZZ 
:ZZ 
$strZZ (
,ZZ( )
columns[[ 
:[[ 
table[[ 
=>[[ !
new[[" %
{\\ 
Id]] 
=]] 
table]] 
.]] 
Column]] %
<]]% &
int]]& )
>]]) *
(]]* +
type]]+ /
:]]/ 0
$str]]1 6
,]]6 7
nullable]]8 @
:]]@ A
false]]B G
)]]G H
.^^ 

Annotation^^ #
(^^# $
$str^^$ 8
,^^8 9
$str^^: @
)^^@ A
,^^A B
UserId__ 
=__ 
table__ "
.__" #
Column__# )
<__) *
string__* 0
>__0 1
(__1 2
type__2 6
:__6 7
$str__8 G
,__G H
nullable__I Q
:__Q R
false__S X
)__X Y
,__Y Z
	ClaimType`` 
=`` 
table``  %
.``% &
Column``& ,
<``, -
string``- 3
>``3 4
(``4 5
type``5 9
:``9 :
$str``; J
,``J K
nullable``L T
:``T U
true``V Z
)``Z [
,``[ \

ClaimValueaa 
=aa  
tableaa! &
.aa& '
Columnaa' -
<aa- .
stringaa. 4
>aa4 5
(aa5 6
typeaa6 :
:aa: ;
$straa< K
,aaK L
nullableaaM U
:aaU V
trueaaW [
)aa[ \
}bb 
,bb 
constraintscc 
:cc 
tablecc "
=>cc# %
{dd 
tableee 
.ee 

PrimaryKeyee $
(ee$ %
$stree% :
,ee: ;
xee< =
=>ee> @
xeeA B
.eeB C
IdeeC E
)eeE F
;eeF G
tableff 
.ff 

ForeignKeyff $
(ff$ %
namegg 
:gg 
$strgg F
,ggF G
columnhh 
:hh 
xhh  !
=>hh" $
xhh% &
.hh& '
UserIdhh' -
,hh- .
principalTableii &
:ii& '
$strii( 5
,ii5 6
principalColumnjj '
:jj' (
$strjj) -
,jj- .
onDeletekk  
:kk  !
ReferentialActionkk" 3
.kk3 4
Cascadekk4 ;
)kk; <
;kk< =
}ll 
)ll 
;ll 
migrationBuildernn 
.nn 
CreateTablenn (
(nn( )
nameoo 
:oo 
$stroo (
,oo( )
columnspp 
:pp 
tablepp 
=>pp !
newpp" %
{qq 
LoginProviderrr !
=rr" #
tablerr$ )
.rr) *
Columnrr* 0
<rr0 1
stringrr1 7
>rr7 8
(rr8 9
typerr9 =
:rr= >
$strrr? N
,rrN O
	maxLengthrrP Y
:rrY Z
$numrr[ ^
,rr^ _
nullablerr` h
:rrh i
falserrj o
)rro p
,rrp q
ProviderKeyss 
=ss  !
tabless" '
.ss' (
Columnss( .
<ss. /
stringss/ 5
>ss5 6
(ss6 7
typess7 ;
:ss; <
$strss= L
,ssL M
	maxLengthssN W
:ssW X
$numssY \
,ss\ ]
nullabless^ f
:ssf g
falsessh m
)ssm n
,ssn o
ProviderDisplayNamett '
=tt( )
tablett* /
.tt/ 0
Columntt0 6
<tt6 7
stringtt7 =
>tt= >
(tt> ?
typett? C
:ttC D
$strttE T
,ttT U
nullablettV ^
:tt^ _
truett` d
)ttd e
,tte f
UserIduu 
=uu 
tableuu "
.uu" #
Columnuu# )
<uu) *
stringuu* 0
>uu0 1
(uu1 2
typeuu2 6
:uu6 7
$struu8 G
,uuG H
nullableuuI Q
:uuQ R
falseuuS X
)uuX Y
}vv 
,vv 
constraintsww 
:ww 
tableww "
=>ww# %
{xx 
tableyy 
.yy 

PrimaryKeyyy $
(yy$ %
$stryy% :
,yy: ;
xyy< =
=>yy> @
newyyA D
{yyE F
xyyG H
.yyH I
LoginProvideryyI V
,yyV W
xyyX Y
.yyY Z
ProviderKeyyyZ e
}yyf g
)yyg h
;yyh i
tablezz 
.zz 

ForeignKeyzz $
(zz$ %
name{{ 
:{{ 
$str{{ F
,{{F G
column|| 
:|| 
x||  !
=>||" $
x||% &
.||& '
UserId||' -
,||- .
principalTable}} &
:}}& '
$str}}( 5
,}}5 6
principalColumn~~ '
:~~' (
$str~~) -
,~~- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
}
ÄÄ 
)
ÄÄ 
;
ÄÄ 
migrationBuilder
ÇÇ 
.
ÇÇ 
CreateTable
ÇÇ (
(
ÇÇ( )
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ '
,
ÉÉ' (
columns
ÑÑ 
:
ÑÑ 
table
ÑÑ 
=>
ÑÑ !
new
ÑÑ" %
{
ÖÖ 
UserId
ÜÜ 
=
ÜÜ 
table
ÜÜ "
.
ÜÜ" #
Column
ÜÜ# )
<
ÜÜ) *
string
ÜÜ* 0
>
ÜÜ0 1
(
ÜÜ1 2
type
ÜÜ2 6
:
ÜÜ6 7
$str
ÜÜ8 G
,
ÜÜG H
nullable
ÜÜI Q
:
ÜÜQ R
false
ÜÜS X
)
ÜÜX Y
,
ÜÜY Z
RoleId
áá 
=
áá 
table
áá "
.
áá" #
Column
áá# )
<
áá) *
string
áá* 0
>
áá0 1
(
áá1 2
type
áá2 6
:
áá6 7
$str
áá8 G
,
ááG H
nullable
ááI Q
:
ááQ R
false
ááS X
)
ááX Y
}
àà 
,
àà 
constraints
ââ 
:
ââ 
table
ââ "
=>
ââ# %
{
ää 
table
ãã 
.
ãã 

PrimaryKey
ãã $
(
ãã$ %
$str
ãã% 9
,
ãã9 :
x
ãã; <
=>
ãã= ?
new
ãã@ C
{
ããD E
x
ããF G
.
ããG H
UserId
ããH N
,
ããN O
x
ããP Q
.
ããQ R
RoleId
ããR X
}
ããY Z
)
ããZ [
;
ãã[ \
table
åå 
.
åå 

ForeignKey
åå $
(
åå$ %
name
çç 
:
çç 
$str
çç E
,
ççE F
column
éé 
:
éé 
x
éé  !
=>
éé" $
x
éé% &
.
éé& '
RoleId
éé' -
,
éé- .
principalTable
èè &
:
èè& '
$str
èè( 5
,
èè5 6
principalColumn
êê '
:
êê' (
$str
êê) -
,
êê- .
onDelete
ëë  
:
ëë  !
ReferentialAction
ëë" 3
.
ëë3 4
Cascade
ëë4 ;
)
ëë; <
;
ëë< =
table
íí 
.
íí 

ForeignKey
íí $
(
íí$ %
name
ìì 
:
ìì 
$str
ìì E
,
ììE F
column
îî 
:
îî 
x
îî  !
=>
îî" $
x
îî% &
.
îî& '
UserId
îî' -
,
îî- .
principalTable
ïï &
:
ïï& '
$str
ïï( 5
,
ïï5 6
principalColumn
ññ '
:
ññ' (
$str
ññ) -
,
ññ- .
onDelete
óó  
:
óó  !
ReferentialAction
óó" 3
.
óó3 4
Cascade
óó4 ;
)
óó; <
;
óó< =
}
òò 
)
òò 
;
òò 
migrationBuilder
öö 
.
öö 
CreateTable
öö (
(
öö( )
name
õõ 
:
õõ 
$str
õõ (
,
õõ( )
columns
úú 
:
úú 
table
úú 
=>
úú !
new
úú" %
{
ùù 
UserId
ûû 
=
ûû 
table
ûû "
.
ûû" #
Column
ûû# )
<
ûû) *
string
ûû* 0
>
ûû0 1
(
ûû1 2
type
ûû2 6
:
ûû6 7
$str
ûû8 G
,
ûûG H
nullable
ûûI Q
:
ûûQ R
false
ûûS X
)
ûûX Y
,
ûûY Z
LoginProvider
üü !
=
üü" #
table
üü$ )
.
üü) *
Column
üü* 0
<
üü0 1
string
üü1 7
>
üü7 8
(
üü8 9
type
üü9 =
:
üü= >
$str
üü? N
,
üüN O
	maxLength
üüP Y
:
üüY Z
$num
üü[ ^
,
üü^ _
nullable
üü` h
:
üüh i
false
üüj o
)
üüo p
,
üüp q
Name
†† 
=
†† 
table
††  
.
††  !
Column
††! '
<
††' (
string
††( .
>
††. /
(
††/ 0
type
††0 4
:
††4 5
$str
††6 E
,
††E F
	maxLength
††G P
:
††P Q
$num
††R U
,
††U V
nullable
††W _
:
††_ `
false
††a f
)
††f g
,
††g h
Value
°° 
=
°° 
table
°° !
.
°°! "
Column
°°" (
<
°°( )
string
°°) /
>
°°/ 0
(
°°0 1
type
°°1 5
:
°°5 6
$str
°°7 F
,
°°F G
nullable
°°H P
:
°°P Q
true
°°R V
)
°°V W
}
¢¢ 
,
¢¢ 
constraints
££ 
:
££ 
table
££ "
=>
££# %
{
§§ 
table
•• 
.
•• 

PrimaryKey
•• $
(
••$ %
$str
••% :
,
••: ;
x
••< =
=>
••> @
new
••A D
{
••E F
x
••G H
.
••H I
UserId
••I O
,
••O P
x
••Q R
.
••R S
LoginProvider
••S `
,
••` a
x
••b c
.
••c d
Name
••d h
}
••i j
)
••j k
;
••k l
table
¶¶ 
.
¶¶ 

ForeignKey
¶¶ $
(
¶¶$ %
name
ßß 
:
ßß 
$str
ßß F
,
ßßF G
column
®® 
:
®® 
x
®®  !
=>
®®" $
x
®®% &
.
®®& '
UserId
®®' -
,
®®- .
principalTable
©© &
:
©©& '
$str
©©( 5
,
©©5 6
principalColumn
™™ '
:
™™' (
$str
™™) -
,
™™- .
onDelete
´´  
:
´´  !
ReferentialAction
´´" 3
.
´´3 4
Cascade
´´4 ;
)
´´; <
;
´´< =
}
¨¨ 
)
¨¨ 
;
¨¨ 
migrationBuilder
ÆÆ 
.
ÆÆ 
CreateIndex
ÆÆ (
(
ÆÆ( )
name
ØØ 
:
ØØ 
$str
ØØ 2
,
ØØ2 3
table
∞∞ 
:
∞∞ 
$str
∞∞ )
,
∞∞) *
column
±± 
:
±± 
$str
±±  
)
±±  !
;
±±! "
migrationBuilder
≥≥ 
.
≥≥ 
CreateIndex
≥≥ (
(
≥≥( )
name
¥¥ 
:
¥¥ 
$str
¥¥ %
,
¥¥% &
table
µµ 
:
µµ 
$str
µµ $
,
µµ$ %
column
∂∂ 
:
∂∂ 
$str
∂∂ (
,
∂∂( )
unique
∑∑ 
:
∑∑ 
true
∑∑ 
,
∑∑ 
filter
∏∏ 
:
∏∏ 
$str
∏∏ 6
)
∏∏6 7
;
∏∏7 8
migrationBuilder
∫∫ 
.
∫∫ 
CreateIndex
∫∫ (
(
∫∫( )
name
ªª 
:
ªª 
$str
ªª 2
,
ªª2 3
table
ºº 
:
ºº 
$str
ºº )
,
ºº) *
column
ΩΩ 
:
ΩΩ 
$str
ΩΩ  
)
ΩΩ  !
;
ΩΩ! "
migrationBuilder
øø 
.
øø 
CreateIndex
øø (
(
øø( )
name
¿¿ 
:
¿¿ 
$str
¿¿ 2
,
¿¿2 3
table
¡¡ 
:
¡¡ 
$str
¡¡ )
,
¡¡) *
column
¬¬ 
:
¬¬ 
$str
¬¬  
)
¬¬  !
;
¬¬! "
migrationBuilder
ƒƒ 
.
ƒƒ 
CreateIndex
ƒƒ (
(
ƒƒ( )
name
≈≈ 
:
≈≈ 
$str
≈≈ 1
,
≈≈1 2
table
∆∆ 
:
∆∆ 
$str
∆∆ (
,
∆∆( )
column
«« 
:
«« 
$str
««  
)
««  !
;
««! "
migrationBuilder
…… 
.
…… 
CreateIndex
…… (
(
……( )
name
   
:
   
$str
   "
,
  " #
table
ÀÀ 
:
ÀÀ 
$str
ÀÀ $
,
ÀÀ$ %
column
ÃÃ 
:
ÃÃ 
$str
ÃÃ )
)
ÃÃ) *
;
ÃÃ* +
migrationBuilder
ŒŒ 
.
ŒŒ 
CreateIndex
ŒŒ (
(
ŒŒ( )
name
œœ 
:
œœ 
$str
œœ %
,
œœ% &
table
–– 
:
–– 
$str
–– $
,
––$ %
column
—— 
:
—— 
$str
—— ,
,
——, -
unique
““ 
:
““ 
true
““ 
,
““ 
filter
”” 
:
”” 
$str
”” :
)
””: ;
;
””; <
}
‘‘ 	
	protected
÷÷ 
override
÷÷ 
void
÷÷ 
Down
÷÷  $
(
÷÷$ %
MigrationBuilder
÷÷% 5
migrationBuilder
÷÷6 F
)
÷÷F G
{
◊◊ 	
migrationBuilder
ÿÿ 
.
ÿÿ 
	DropTable
ÿÿ &
(
ÿÿ& '
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ (
)
ŸŸ( )
;
ŸŸ) *
migrationBuilder
€€ 
.
€€ 
	DropTable
€€ &
(
€€& '
name
‹‹ 
:
‹‹ 
$str
‹‹ (
)
‹‹( )
;
‹‹) *
migrationBuilder
ﬁﬁ 
.
ﬁﬁ 
	DropTable
ﬁﬁ &
(
ﬁﬁ& '
name
ﬂﬂ 
:
ﬂﬂ 
$str
ﬂﬂ (
)
ﬂﬂ( )
;
ﬂﬂ) *
migrationBuilder
·· 
.
·· 
	DropTable
·· &
(
··& '
name
‚‚ 
:
‚‚ 
$str
‚‚ '
)
‚‚' (
;
‚‚( )
migrationBuilder
‰‰ 
.
‰‰ 
	DropTable
‰‰ &
(
‰‰& '
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ (
)
ÂÂ( )
;
ÂÂ) *
migrationBuilder
ÁÁ 
.
ÁÁ 
	DropTable
ÁÁ &
(
ÁÁ& '
name
ËË 
:
ËË 
$str
ËË  
)
ËË  !
;
ËË! "
migrationBuilder
ÍÍ 
.
ÍÍ 
	DropTable
ÍÍ &
(
ÍÍ& '
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ #
)
ÎÎ# $
;
ÎÎ$ %
migrationBuilder
ÌÌ 
.
ÌÌ 
	DropTable
ÌÌ &
(
ÌÌ& '
name
ÓÓ 
:
ÓÓ 
$str
ÓÓ #
)
ÓÓ# $
;
ÓÓ$ %
}
ÔÔ 	
}
 
}ÒÒ ¡
SE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Repository\EmployeeRepository.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 

Repository %
{ 
public		 

	interface		 
IEmployeeRepository		 (
:		) *
IGenericRepository		+ =
<		= >
Employee		> F
>		F G
{

 
Task 
< 
Employee 
> $
GetByIdentificationAsync /
(/ 0
string0 6
Identification7 E
)E F
;F G
} 
public 

class 
EmployeeRepository #
:$ %
GenericRepository& 7
<7 8
Employee8 @
>@ A
,A B
IEmployeeRepositoryC V
{ 
public 
EmployeeRepository !
(! "
Context" )
context* 1
)1 2
:3 4
base5 9
(9 :
context: A
)A B
{ 	
} 	
public 
async 
Task 
< 
Employee "
>" #$
GetByIdentificationAsync$ <
(< =
string= C
IdentificationD R
)R S
=> 
await 
_context 
. 
Employee &
.& '
Where' ,
(, -
w- .
=>/ 1
w2 3
.3 4
Identification4 B
==C E
IdentificationF T
)T U
.U V
FirstOrDefaultAsyncV i
(i j
)j k
;k l
} 
} ˆG
RE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Repository\GenericRepository.cs
	namespace		 	
SystemAdmin		
 
.		 
Repo		 
.		 

Repository		 %
{

 
public 

class 
GenericRepository "
<" #
T# $
>$ %
:& '
IDisposable( 3
,3 4
IGenericRepository5 G
<G H
TH I
>I J
whereK P
TQ R
:S T
classU Z
{ 
	protected 
Context 
_context "
;" #
private 
readonly 
DbSet 
< 
T  
>  !
_dbSet" (
;( )
public 
GenericRepository  
(  !
Context! (
context) 0
)0 1
{ 	
_context 
= 
context 
; 
_dbSet 
= 
_context 
. 
Set !
<! "
T" #
># $
($ %
)% &
;& '
} 	
	protected 

IQueryable 
< 
T 
> 
PrepareQuery  ,
(, -

IQueryable 
< 
T 
> 
query 
,  

Expression 
< 
Func 
< 
T 
, 
bool #
># $
>$ %
	predicate& /
=0 1
null2 6
,6 7
Func 
< 

IQueryable 
< 
T 
> 
,  
IIncludableQueryable  4
<4 5
T5 6
,6 7
object8 >
>> ?
>? @
includeA H
=I J
nullK O
,O P
string 
includeProperties $
=% &
$str' )
,) *
Func 
< 

IQueryable 
< 
T 
> 
, 
IOrderedQueryable  1
<1 2
T2 3
>3 4
>4 5
orderBy6 =
=> ?
null@ D
,D E
int 
? 
take 
= 
null 
) 	
{ 	
if!! 
(!! 
include!! 
!=!! 
null!! 
)!!  
query"" 
="" 
include"" 
(""  
query""  %
)""% &
;""& '
foreach$$ 
($$ 
var$$ 
includeProperty$$ (
in$$) +
includeProperties$$, =
.$$= >
Split$$> C
(%% 
new%% 
char%% 
[%% 
]%% 
{%% 
$char%% !
}%%" #
,%%# $
StringSplitOptions%%% 7
.%%7 8
RemoveEmptyEntries%%8 J
)%%J K
)%%K L
query&& 
=&& 
query&& 
.&& 
Include&& %
(&&% &
includeProperty&&& 5
)&&5 6
;&&6 7
if(( 
((( 
	predicate(( 
!=(( 
null(( !
)((! "
query)) 
=)) 
query)) 
.)) 
Where)) #
())# $
	predicate))$ -
)))- .
;)). /
if++ 
(++ 
orderBy++ 
!=++ 
null++ 
)++  
query,, 
=,, 
orderBy,, 
(,,  
query,,  %
),,% &
;,,& '
if.. 
(.. 
take.. 
... 
HasValue.. 
).. 
query// 
=// 
query// 
.// 
Take// "
(//" #
Convert//# *
.//* +
ToInt32//+ 2
(//2 3
take//3 7
)//7 8
)//8 9
;//9 :
return11 
query11 
;11 
}22 	
public44 
async44 
Task44 
AddAsync44 "
(44" #
T44# $
model44% *
)44* +
{55 	
await66 
_dbSet66 
.66 
AddAsync66 !
(66! "
model66" '
)66' (
;66( )
}77 	
public99 
void99 
Update99 
(99 
T99 
model99 "
)99" #
{:: 	
_dbSet;; 
.;; 
Update;; 
(;; 
model;; 
);;  
;;;  !
}<< 	
public>> 
async>> 
Task>> 
Delete>>  
(>>  !
Guid>>! %
Id>>& (
)>>( )
{?? 	
var@@ 
model@@ 
=@@ 
await@@ 
GetByIdAsync@@ *
(@@* +
Id@@+ -
)@@- .
;@@. /
ifAA 
(AA 
modelAA 
!=AA 
nullAA 
)AA 
{BB 
varCC 
propertyCC 
=CC 
modelCC $
.CC$ %
GetTypeCC% ,
(CC, -
)CC- .
.CC. /
GetPropertyCC/ :
(CC: ;
$strCC; C
)CCC D
;CCD E
ifDD 
(DD 
propertyDD 
isDD 
nullDD  $
)DD$ %
throwDD& +
newDD, /!
ArgumentNullExceptionDD0 E
(DDE F
)DDF G
;DDG H
propertyEE 
.EE 
SetValueEE !
(EE! "
modelEE" '
,EE' (
falseEE) .
)EE. /
;EE/ 0
_dbSetFF 
.FF 
UpdateFF 
(FF 
modelFF #
)FF# $
;FF$ %
}GG 
}HH 	
publicJJ 
virtualJJ 
asyncJJ 
TaskJJ !
<JJ! "
IEnumerableJJ" -
<JJ- .
TJJ. /
>JJ/ 0
>JJ0 1
GetAsyncJJ2 :
(JJ: ;

ExpressionKK 
<KK 
FuncKK 
<KK 
TKK 
,KK 
boolKK #
>KK# $
>KK$ %
filterKK& ,
=KK- .
nullKK/ 3
,KK3 4
FuncLL 
<LL 

IQueryableLL 
<LL 
TLL 
>LL 
,LL 
IOrderedQueryableLL  1
<LL1 2
TLL2 3
>LL3 4
>LL4 5
orderByLL6 =
=LL> ?
nullLL@ D
,LLD E
stringMM 
includePropertiesMM $
=MM% &
$strMM' )
)MM) *
{NN 	

IQueryableOO 
<OO 
TOO 
>OO 
queryOO 
=OO  !
_dbSetOO" (
;OO( )
queryQQ 
=QQ 
PrepareQueryQQ  
(QQ  !
queryQQ! &
,QQ& '
filterQQ( .
,QQ. /
nullQQ0 4
,QQ4 5
includePropertiesQQ6 G
,QQG H
orderByQQI P
,QQP Q
nullQQR V
)QQV W
;QQW X
returnSS 
awaitSS 
querySS 
.SS 
ToListAsyncSS *
(SS* +
)SS+ ,
;SS, -
}TT 	
publicVV 
asyncVV 
TaskVV 
<VV 
IEnumerableVV %
<VV% &
TVV& '
>VV' (
>VV( )
GetAllAsyncVV* 5
(VV5 6
)VV6 7
=>WW 
awaitWW 
_dbSetWW 
.WW 
ToListAsyncWW '
(WW' (
)WW( )
;WW) *
publicYY 
asyncYY 
TaskYY 
<YY 
TYY 
>YY 
GetByIdAsyncYY )
(YY) *
GuidYY* .
IdYY/ 1
)YY1 2
=>ZZ 
awaitZZ 
_dbSetZZ 
.ZZ 
	FindAsyncZZ %
(ZZ% &
IdZZ& (
)ZZ( )
;ZZ) *
private^^ 
bool^^ 
disposed^^ 
=^^ 
false^^  %
;^^% &
	protected`` 
virtual`` 
void`` 
Dispose`` &
(``& '
bool``' +
	disposing``, 5
)``5 6
{aa 	
ifbb 
(bb 
!bb 
thisbb 
.bb 
disposedbb 
&&bb !
	disposingbb" +
)bb+ ,
_contextcc 
.cc 
Disposecc $
(cc$ %
)cc% &
;cc& '
thisdd 
.dd 
disposeddd 
=dd 
truedd  
;dd  !
}ee 	
publicgg 
voidgg 
Disposegg 
(gg 
)gg 
{hh 	
Disposeii 
(ii 
trueii 
)ii 
;ii 
GCjj 
.jj 
SuppressFinalizejj 
(jj  
thisjj  $
)jj$ %
;jj% &
}kk 	
~mm 	
GenericRepositorymm	 
(mm 
)mm 
=>mm 
Disposemm  '
(mm' (
falsemm( -
)mm- .
;mm. /
}pp 
}qq Ä
SE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Repository\IGenericRepository.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 

Repository %
{ 
public		 

	interface		 
IGenericRepository		 '
<		' (
T		( )
>		) *
where		+ 0
T		1 2
:		3 4
class		5 :
{

 
Task 
AddAsync 
( 
T 
model 
) 
; 
void 
Update 
( 
T 
model 
) 
; 
Task 
Delete 
( 
Guid 
Id 
) 
; 
Task 
< 
IEnumerable 
< 
T 
> 
> 
GetAsync %
(% &

Expression 
< 
Func 
< 
T 
, 
bool #
># $
>$ %
filter& ,
=- .
null/ 3
,3 4
Func 
< 

IQueryable 
< 
T 
> 
, 
IOrderedQueryable  1
<1 2
T2 3
>3 4
>4 5
orderBy6 =
=> ?
null@ D
,D E
string 
includeProperties $
=% &
$str' )
)) *
;* +
Task 
< 
IEnumerable 
< 
T 
> 
> 
GetAllAsync (
(( )
)) *
;* +
Task 
< 
T 
> 
GetByIdAsync 
( 
Guid !
Id" $
)$ %
;% &
} 
} œ
LE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Repository\IUnitOfWork.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 

Repository %
{ 
public 

	interface 
IUnitOfWork  
:! "
IDisposable# .
{ 
IGenericRepository		 
<		 
Employee		 #
>		# $
EmployeeRepository		% 7
{		8 9
get		: =
;		= >
}		? @
void 
SaveChanges 
( 
) 
; 
Task 
SaveChangesAsync 
( 
) 
;  
} 
}  
KE:\Proyecto\C#\Prueba\SystemAdmin\SystemAdmin.Repo\Repository\UnitOfWork.cs
	namespace 	
SystemAdmin
 
. 
Repo 
. 

Repository %
{ 
public 

class 

UnitOfWork 
: 
IUnitOfWork )
{		 
private

 
readonly

 
Context

  
_context

! )
;

) *
private 
IGenericRepository "
<" #
Employee# +
>+ ,
_employeeRepository- @
;@ A
public 

UnitOfWork 
( 
Context !
context" )
)) *
{ 	
_context 
= 
context 
; 
} 	
public 
IGenericRepository !
<! "
Employee" *
>* +
EmployeeRepository, >
=>? A
_employeeRepositoryB U
??V X
newY \
EmployeeRepository] o
(o p
_contextp x
)x y
;y z
public 
void 
SaveChanges 
(  
)  !
{ 	
_context 
. 
SaveChanges  
(  !
)! "
;" #
} 	
public 
async 
Task 
SaveChangesAsync *
(* +
)+ ,
{ 	
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
} 	
private   
bool   
disposed   
=   
false    %
;  % &
	protected"" 
virtual"" 
void"" 
Dispose"" &
(""& '
bool""' +
	disposing"", 5
)""5 6
{## 	
if$$ 
($$ 
!$$ 
this$$ 
.$$ 
disposed$$ 
&&$$ !
	disposing$$" +
)$$+ ,
_context%% 
.%% 
Dispose%% $
(%%$ %
)%%% &
;%%& '
this&& 
.&& 
disposed&& 
=&& 
true&&  
;&&  !
}'' 	
public)) 
void)) 
Dispose)) 
()) 
))) 
{** 	
Dispose++ 
(++ 
true++ 
)++ 
;++ 
GC,, 
.,, 
SuppressFinalize,, 
(,,  
this,,  $
),,$ %
;,,% &
}-- 	
}11 
}22 